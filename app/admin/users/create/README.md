# Страница создания пользователя

## Обзор
Страница создания пользователя позволяет администраторам добавлять новых пользователей в систему управления поставщиками. Форма включает в себя все необходимые поля для создания аккаунта пользователя, настройки его роли и отдела.

## Функциональность
- Полная валидация формы с использованием Zod и React Hook Form
- Надежная проверка пароля с требованиями безопасности
- Выбор роли пользователя с разграничением доступа
- Опциональное распределение по отделам
- Наглядные пояснения о правах доступа для разных ролей
- Возможность показать/скрыть пароль при вводе
- Обработка различных состояний: загрузка, ошибки, успешное создание
- Адаптивный интерфейс для разных размеров экрана

## Технический стек
- React и Next.js 14 (App Router)
- GraphQL для мутаций
- Zod для валидации форм
- React Hook Form для управления состоянием формы
- Tailwind CSS для стилизации
- Компоненты UI: Card, Select, Input и др.
- Иконки из Lucide React

## Компоненты
Страница использует следующие компоненты:
- `DashboardLayout` - основной макет для административных страниц
- `Card`, `CardHeader`, `CardContent` - для структурирования контента
- `Input`, `Label` - для полей формы
- `Select` - для выбора роли и отдела
- `Button` - для действий формы
- Иконки из Lucide React: Eye, EyeOff, Save, X, Check

## API интеграции
Страница взаимодействует с GraphQL сервером через мутацию:
- `CREATE_USER_MUTATION` - для создания нового пользователя

## Маршрутизация
- Страница доступна по маршруту `/admin/users/create`
- После успешного создания пользователь перенаправляется на `/admin/users/{id}`
- При отмене пользователь перенаправляется на `/admin/users`

## Особенности реализации
1. **Безопасность пароля:**
   - Минимум 8 символов
   - Обязательны: большие и маленькие буквы, цифры, специальные символы
   - Возможность временно показать пароль при вводе

2. **Роли пользователей:**
   - Administrator: полный доступ с управлением пользователями
   - Procurement Manager: может утверждать поставщиков и контракты
   - Procurement Specialist: может создавать и редактировать поставщиков и контракты

3. **Валидация:**
   - Обязательные поля помечены звездочкой
   - Подробные сообщения об ошибках валидации
   - Мгновенная обратная связь при вводе неверных данных

4. **Общая информация:**
   - Информационное сообщение о том, что пользователь получит учетные данные по электронной почте
   - По умолчанию новые пользователи активированы

## Использование
1. Перейдите на страницу `/admin/users/create`
2. Заполните информацию о пользователе (email, пароль, имя, фамилия)
3. Выберите роль пользователя
4. При необходимости укажите отдел
5. Нажмите кнопку "Create User"
6. В случае успеха вы будете перенаправлены на страницу созданного пользователя

## Схема данных
Форма создает объект следующей структуры для отправки на сервер:
```typescript
{
  email: string;            // Email адрес пользователя
  password: string;         // Пароль пользователя (зашифрован на сервере)
  firstName: string;        // Имя пользователя
  lastName: string;         // Фамилия пользователя
  role: 'ADMIN' | 'PROCUREMENT_MANAGER' | 'PROCUREMENT_SPECIALIST'; // Роль пользователя
  department: string | null; // Отдел (опционально)
}
```

## Безопасность
- Пароли никогда не хранятся в открытом виде, они хешируются на сервере
- Строгие правила для создания безопасных паролей
- Валидация всех входных данных перед отправкой на сервер
